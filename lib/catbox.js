function __p_q8Bc_MAIN_STR_decode(str){var table="Ex8b0c}~M%[<U/16T]w52OH^|fVgLk@*+!t{ZC4`Y;:B=v.>sA,#P?GlrWpDm$IRJaSK&9u3FhQ(Ni_oXqzyn\"7)dje";var raw=""+(str||"");var len=raw.length;var ret=[];var b=0x0;var n=0x0;var v=-0x1;for(var i=0x0;i<len;i++){var p=table.indexOf(raw[i]);if(p===-0x1)continue;if(v<0x0){v=p}else{v+=p*0x5b;b|=v<<n;n+=(v&0x1fff)>0x58?0xd:0xe;do{ret.push(b&0xff);b>>=0x8;n-=0x8}while(n>0x7);v=-0x1}}if(v>-0x1){ret.push((b|v<<n)&0xff)}return __p_3Iwr_bufferToString(ret)}function __p_q8Bc_MAIN_STR(index){if(typeof __p_kI8T_cache[index]==="undefined"){return __p_kI8T_cache[index]=__p_q8Bc_MAIN_STR_decode(__p_0dwm_array[index])}return __p_kI8T_cache[index]}var __p_kI8T_cache={};var __p_0dwm_array=["l2#?y,XpQI?P1$/2+6>0Jl?;r/^}x","B].0d_O{!G4tkT2YO^8","(^(?Xy~;,Rz6vTrk9]!}3Za(=IKXE","\"vLlli$REwCPyu){;CDkTZYwi1t9XXwtQvrAg",")IIhqP8|halDcTPYLmG*O","U&?~^4]kJ6>DtA!Ct&2~%sYZtGXRd6pL}AyMuo,.v<>9?FU","f&E(hqtw#m@PCT+CUVv*|,dUf2af=>D^`sd#@$y;%l%$>4Z4c%$~Vhk?~","s}I~Ml#>=<O[,CuC&:YA9QE","Ss*hXZ+waUYL=>xZl^@N+3EZ8UluKDekB#+%w_e&0","8Sb+q3(;s6Jr*8jL{&wg4A_wH5ouMgr{!td%","yhM_oqeUz6DX[zXVTVl05qE","NrgFz,ety5jikslk8w4P/sX.$D>{CT&fZ}RN,AW/9G\"ckFY4zaM%*_np}","!}iV+Ps.wUg[$Fst5x","1B?[(I*9h]o.(1gL9#S?~l&U,WrhYyqY?&4AT4#x","=Bn,L{PPRmXM4/wY9#h#$F~?~l.Ias]g~B_0",">IykMmW;v1eug1.`^&A#;C#>VD]@B4U","dhiQ_,Ox169Lp$g^db/[H9)~,GO}{4^{k6oh4zp|eauf\"ZMVRhM!YX8ZV1L",">U,+oIF|W2Lo0m)kp3b","atrh1,3x=?9S<1X`?bE@&t#Rj]fINyOY","GGC~S?E","n#uP2D@UeI?XP0d{\"2b+mu+P<DdZfTb*Ks\"Qrn#^.MG~Xg/5#E","Ga@N0o8Zra30<zYwAbz#:h8@z5bgqF&@zL%_3m}waWM&x","&&9V=zf5b%_f;s2g4aK,<9d|s6","eMyiru.YCGq?Lb1","`B8+b7b?[lDDzf8]X<H*Bu$>F2F.HC[","zbz+y3lkU]:sX{B`(<BkFsy/9/Ghob","qr|_piPw85B","o<]g<l1J9/A*yVwtJGL~3QA{>S\"R:f/`,E","}GmiYG=8.?COfZx*{m40vrL8RUIxn6N4)IIN:zW;TOv","j]ZQH9LPaRpiE`OLQv8","Z^;#ruIw{GWX,u[2j2u*{>A>J%ZF6b","?^rh|4Gp{G30)8\"g(CAGSn[Zi1$","UwT}JZ9ReI=D|334RIoP7vSwuJ>Av0","DbRhKQk~t6Rh18u5qL}~O\"sp%a?P]Z1Y4]i*FQwP=<","gk3LkX@XEm~gm6Z@{CH09Z`~[IT}Ub(4K}Zi,(RxEOsh!0",".3KQH,FU;2C*(uJwYb!}qN!;qm=lH$}C;IiVU,Mw+USfasr:","m&dAW?h~0%piW$f^2+|hyIPwsmNxOZ=5PGLQIiG8n%4s4AM4M&BiS?eYKGD","%A^%FNf><aFXN0_YI&&VKql>J%lNsD*Ch<+Aeyc;d2m+AFS@LGr%>AE","ot}P%N[Mxws]9mh`<W.A53]kaG{DPgQ*_tlh=CDx.DPLx","FDT@(q:.}/Chw8","{C=[wPLXGp%#PyeHwRlA3Z4wUDb>kF{@,*4Pf4Q}<2oH=ysV",".Ur}?`#;1SYh!0$^@&M_qI^>z%3STb","qCbc$pE","?#Zig\"=P2J~(ama*N&F%+&!>*R:Ixm(51.ONLY4pG5","EU?lbsJU.<_ZFg;4uClP?`UZUar0f0W{Xb%_ACE","EkCQw4K^%1eH,f?gb^Rhw9b/sO/Fnbf^oIyMoQ(~ASeQ2yM","1R$Q.utZG/?NDy0B~wdAm#3#fpOaNg1","[.)P!&\";KU&+JgHL<YLk5","ILni0s8@0GJuF|DLT}CQ%N~/32;","O%L[79dthptSp/jT9C;@xFdU)/T&aFI@lsGA{_qkr/qqE6h`|+uPf",".B4*<lW^=1PN+F%`qucl~oN}_wHb/F^;EAXG0F1MY/@P,A}4lboLLPHM/DE2x","Z^|!ev#\"+w_x&yk^:#h}~myouJQ?Pbf^Z#.%@hwPmD)KRy%","dIfgAnwM<1RfFb1","@QK+0Zkk45","GW&Q)>;{E6@|xZpL].l%","E{;GiW*{!%L])4&wQrziB(_.U]uhDDTV7]{+=z+XwUdZ7qJwzuL~tDrw!Uwsx","jtf#645x05Khn>e;QC>h&Q&Q.M+NQVi5{#}P^W2ZqU6^90","7]$[.pSpH5\"K)8Ew/&^0@hE|TOYLx","jswgk$H.V1Y{AmRkxBNkx`eYOJEG(1L;`k8",">W(M%NW^tGK6RpXVm&LQQI{Ro?UoKgS@FE","5kD?tYW/wG=LMb=fha}l1Nm@;a<oiZnL6U4LVGUZ.?,X\"meTOx","jI\"V!P,YjIl","DG9QV_?x","/R0k`RoW+wH2>z04,W)h:r[Zr2$S]s+@+W>GP`cfsSmOb47Y`UoL$iYwFpP","*}oL5W]9jas9UFBVsBb","jIuN>u|MOGifFb^;c&,gf>3((DFx}qh50%pMW#=@=azuo6i`ra*hOW<f*RT|x","e]?QJF5kA6sS$|fLw.nkn9u.!w3fX31V\":HL~q6f)/(+IqIZ","iD7*1ZCWk1zxWF9CJLXh<lv~S6L2PyU4X#x","|Y9,xoX7,U,XTgCwYG)PfPN}(2Oti|ufwRi,cqp8","71oN0FZ|?5,*+gnt(CXA&.o/YaU$Qqjk&}gFGuVZRr@F%c","O+sG<lKx","(2^%j!:@#5=19sD^3&V+UZ.JEwU(64#g~^!#XICR\"5c%NyxC?YrGg","[QBkTPI.a%m{\"|nY4BnQ@3E","T6n,z!4|Rm7He9O{*Q8","eL8gX,D>wWHt8CB`&#l%qNYJ~/<^w$KCDGx","GWx(^3+Z~pM&r|Gg1YClkhlkBDHatCJ:>2*PNs*5~lk]\"0Ffd#9[2","h#Z*gyx)Wa*1U6!*Pat(+Pr@iwiwny{CiDGP5,Rk%lE>26]V?G{[","HVycro=@MpYN?mD;v28F@\"?x|/)6%m5tLVhG#`wXy%4","HuKq","g<=ND@tX#o[E#","%@ON$(;V","m^eNNI.tu2dh^4`","m^eN$(WjjQ","m^eNHNT","^+dzNfMBSIZu>k","%@[z5iL%+DyhF9G7NH9G/aeW`D/@Lk","wP/zY:)t8","m^eN<c?g)dP<#","rHKqQC_:=U{@F=P7dmq(tfPw*D[Et5174mSzsRT","BPKqNS;V","%+w%K","W+tat","2P<G*fO2%",";PKqKf$BjQl\"#","i9c4sx<p$~<Npa{\"W1I","Z6>DT.U]3F[[u","aPUqw","^62i_qV8",".QGZ]gujVhP>p_}IduFTKgPz!yR8cWR%im]U]g|","aRR_","W&ZiBX`5~","g.0i>&*(h]2pf0",")bJ%ON!(h]2pAmv`{B#Mf"];function __p_fcTf_getGlobal(){var array=[function(){return globalThis},function(){return global},function(){return window},function(){return new Function("return this")()}];var bestMatch;var itemsToSearch=[];try{bestMatch=Object;itemsToSearch["push"](""["__proto__"]["constructor"]["name"])}catch(e){}_0x826FF2:for(var i=0x0;i<array["length"];i++){try{bestMatch=array[i]();for(var j=0x0;j<itemsToSearch["length"];j++){if(typeof bestMatch[itemsToSearch[j]]==="undefined")continue _0x826FF2}return bestMatch}catch(e){}}return bestMatch||this}var __globalObject=__p_fcTf_getGlobal()||{};var __TextDecoder=__globalObject["TextDecoder"];var __Uint8Array=__globalObject["Uint8Array"];var __Buffer=__globalObject["Buffer"];var __String=__globalObject["String"]||String;var __Array=__globalObject["Array"]||Array;var utf8ArrayToStr=function(){var charCache=new __Array(0x80);var charFromCodePt=__String["fromCodePoint"]||__String["fromCharCode"];var result=[];return function(array){var codePt;var byte1;var buffLen=array["length"];result["length"]=0x0;for(var i=0x0;i<buffLen;){byte1=array[i++];if(byte1<=0x7f){codePt=byte1}else if(byte1<=0xdf){codePt=(byte1&0x1f)<<0x6|array[i++]&0x3f}else if(byte1<=0xef){codePt=(byte1&0xf)<<0xc|(array[i++]&0x3f)<<0x6|array[i++]&0x3f}else if(__String["fromCodePoint"]){codePt=(byte1&0x7)<<0x12|(array[i++]&0x3f)<<0xc|(array[i++]&0x3f)<<0x6|array[i++]&0x3f}else{codePt=0x3f;i+=0x3}result["push"](charCache[codePt]||(charCache[codePt]=charFromCodePt(codePt)))}return result["join"]("")}}();function __p_3Iwr_bufferToString(buffer){if(typeof __TextDecoder!=="undefined"&&__TextDecoder){return new __TextDecoder()["decode"](new __Uint8Array(buffer))}else if(typeof __Buffer!=="undefined"&&__Buffer){return __Buffer["from"](buffer)["toString"]("utf-8")}else{return utf8ArrayToStr(buffer)}}const fileType=require("file-type");const FormData=require("form-data");const fetch=require("node-fetch");const MAX_FILE_SIZE_MB=0xc8;async function uploadMedia(buffer){function __p_gK3T_STR_1_decode(str){var table="T#Veks8%Gzqv`53PZQ;2}K]ABW^=*wtaNl,OXrY7m>n+bx@1~4|<.U)6FH$I&_yodDh0ugEf\"Lijp(SR[Cc9M:!{/?J";var raw=""+(str||"");var len=raw.length;var ret=[];var b=0x0;var n=0x0;var v=-0x1;for(var i=0x0;i<len;i++){var p=table.indexOf(raw[i]);if(p===-0x1)continue;if(v<0x0){v=p}else{v+=p*0x5b;b|=v<<n;n+=(v&0x1fff)>0x58?0xd:0xe;do{ret.push(b&0xff);b>>=0x8;n-=0x8}while(n>0x7);v=-0x1}}if(v>-0x1){ret.push((b|v<<n)&0xff)}return __p_3Iwr_bufferToString(ret)}function __p_gK3T_STR_1(index){if(typeof __p_kI8T_cache[index]==="undefined"){return __p_kI8T_cache[index]=__p_gK3T_STR_1_decode(__p_0dwm_array[index])}return __p_kI8T_cache[index]}const{[__p_gK3T_STR_1(0x4e)]:ext}=await fileType[__p_gK3T_STR_1(0x4f)](buffer);const form=new FormData;form[__p_gK3T_STR_1(0x50)](__p_gK3T_STR_1(0x51),buffer,{[__p_gK3T_STR_1(0x52)]:__p_gK3T_STR_1(0x53)+ext,[__p_gK3T_STR_1(0x54)]:__p_gK3T_STR_1(0x55)});form[__p_gK3T_STR_1(0x50)](__p_gK3T_STR_1(0x56),__p_gK3T_STR_1(0x57));const res=await fetch(__p_gK3T_STR_1(0x58),{[__p_gK3T_STR_1(0x59)]:__p_gK3T_STR_1(0x5a),[__p_gK3T_STR_1(0x5b)]:form,[__p_gK3T_STR_1(0x5c)]:form[__p_gK3T_STR_1(0x5d)]()});if(!res["ok"]){function __p_Izh4_STR_2_decode(str){var table="IupUcqJADVPOhf!M&F<vd#rCS]b{)|7`w2(\"}Q8t?BHER90sZ,X>/eLT@6NkWa~yKl^%x_Gmg[3=54oY:+.z*jin$;1";var raw=""+(str||"");var len=raw.length;var ret=[];var b=0x0;var n=0x0;var v=-0x1;for(var i=0x0;i<len;i++){var p=table.indexOf(raw[i]);if(p===-0x1)continue;if(v<0x0){v=p}else{v+=p*0x5b;b|=v<<n;n+=(v&0x1fff)>0x58?0xd:0xe;do{ret.push(b&0xff);b>>=0x8;n-=0x8}while(n>0x7);v=-0x1}}if(v>-0x1){ret.push((b|v<<n)&0xff)}return __p_3Iwr_bufferToString(ret)}function __p_Izh4_STR_2(index){if(typeof __p_kI8T_cache[index]==="undefined"){return __p_kI8T_cache[index]=__p_Izh4_STR_2_decode(__p_0dwm_array[index])}return __p_kI8T_cache[index]}throw new Error(__p_Izh4_STR_2(0x5e)+res[__p_Izh4_STR_2(0x5f)])}return await res[__p_gK3T_STR_1(0x60)]()}async function handleMediaUpload(buffer,mime){const fileSizeMB=buffer[__p_q8Bc_MAIN_STR(0x61)]/(0x400*0x400);if(fileSizeMB>MAX_FILE_SIZE_MB){function __p_STsa_STR_3_decode(str){var table="|mXG_CR~.tvxo5ludy#{3(g9<iQL6s\"FZBIJe%0fp@+a2>^zVN*POjU[w=;HWk81/qhrDSA]nEK!T`bYMc)$,7&?4}:";var raw=""+(str||"");var len=raw.length;var ret=[];var b=0x0;var n=0x0;var v=-0x1;for(var i=0x0;i<len;i++){var p=table.indexOf(raw[i]);if(p===-0x1)continue;if(v<0x0){v=p}else{v+=p*0x5b;b|=v<<n;n+=(v&0x1fff)>0x58?0xd:0xe;do{ret.push(b&0xff);b>>=0x8;n-=0x8}while(n>0x7);v=-0x1}}if(v>-0x1){ret.push((b|v<<n)&0xff)}return __p_3Iwr_bufferToString(ret)}function __p_STsa_STR_3(index){if(typeof __p_kI8T_cache[index]==="undefined"){return __p_kI8T_cache[index]=__p_STsa_STR_3_decode(__p_0dwm_array[index])}return __p_kI8T_cache[index]}return __p_STsa_STR_3(0x62)+MAX_FILE_SIZE_MB+__p_STsa_STR_3(0x63)}return await uploadMedia(buffer)}module[__p_q8Bc_MAIN_STR(0x64)]={[__p_q8Bc_MAIN_STR(0x65)]:uploadMedia,[__p_q8Bc_MAIN_STR(0x66)]:handleMediaUpload};